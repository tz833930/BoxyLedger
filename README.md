# 📄 “小匣记账” APP 项目设计文档

## 一、 项目背景与目标

- **定位**：纯本地个人记账工具。
- **核心痛点**：解决用户对财务数据上传云端的隐私顾虑。
- **技术选型**：Android Studio + SQLite (本地数据库)。
- **平台**：Android。

------

## 二、 UI 视觉规范设计

### 1. 色彩规范

- **主题色**：
  - **背景色**：`#F8F8F8` (淡灰色)。
  - **交互色**：`#FFFFFF` (纯白色)。
  - **卡片色**：`#FFD93D` (明亮黄) 及明亮黄渐变 (`#FFF176` -> `#FFD93D`)。
- **辅助色**：`#FF8B8B` (支出/警示)、`#6BCB77` (收入/成功)、`#4D96FF` (趋势/信息)。
- **暗黑模式**：
  - 背景色：`#1C1C1E` (深灰黑，非纯黑以保持柔和)。
  - 卡片色：`#2C2C2E`。
  - 文字色：`#E5E5E7`。

### 2. 字体与间距

- **标题文字**：18px，加粗，用于页面顶部或大项标题。
- **正文文字**：15px，用于账单列表和表单标签。
- **辅助文字**：12px，用于时间、次要说明。
- **圆角规范**：全局容器使用 `24rpx` 或 `32rpx` 的大圆角，增加软萌感。

------

## 三、 页面功能详细设计

### 1. 记账：账单页（底部导航栏排序：3）

- **功能介绍**：
  - **账单列表**：展示记录的每一笔收支，以日期为分隔，支持查看所有历史记录。
  - **每日概览**：在月度收支卡片下方提供“每日概览”入口，展示今日日期、星期及当日收支统计。
- **视觉亮点**：顶部卡片显示本月收支信息，背景使用明亮黄渐变色（从左上 `#FFF176` 至右下 `#FFD93D`）。
- **交互设计**：
    - **右下角“记一笔”**：采用扩展悬浮按钮（Extended FAB）。点击弹出带有毛玻璃效果的快速记账面板。支持复用该面板进行**编辑**操作（自动填充旧数据）。
    - **列表展示**：
        - **布局优化**：分类名称显示在上方，时间与备注显示在左下，金额与账户显示在右侧，视觉紧凑清晰。
        - **图标增强**：每条记录均显示其对应的分类图标，增强视觉识别度。
        - **侧滑操作**：支持向左滑动账单记录，显示“编辑”和“删除”按钮。点击“删除”自动回滚账户余额。
        - **空状态**：无记录时显示温馨提示与引导。
    - **每日概览 (日历视图)**：
        - **入口**：点击“每日概览”卡片进入全新的日历视图页面。
        - **日历网格**：直观展示每月日期，支持左右滑动切换月份。
        - **信息展示**：支持**农历、节气**显示。若当日有收支，优先显示收支金额（红/绿），否则显示农历日期。
        - **交互操作**：点击日期查看当日详细记录列表；点击右下角悬浮“今”字按钮快速回滚到今天。
        - **布局优化**：采用线性布局，确保底部记录列表不遮挡日历最后一行日期，且符合 48dp 最小触摸区域规范。

### 2. 统计：数据洞察页（底部导航栏排序：2）

- **功能介绍**：暂不开发
- **用户互动**：暂不开发

### 3. 我的：个人中心页（底部导航栏排序：5）

- **用户卡片**：头像为一个动态的“小匣子”插图；账户名：本地账户；下面文本：记录每一笔收支，管理美好生活。
- **数据中心**：
  - **预算管理**：生成入口，内容暂不开发。
  - **分类管理**：用户可以在应用内添加、编辑、删除分类。
    - **交互优化**：添加按钮移至右下角悬浮按钮 (FAB)。
    - **视觉优化**：界面主题与 APP 保持一致 (明亮黄)。
    - **数据预置**：预置符合用户习惯的餐饮、交通、工资等 18 个默认分类，并实现图标自动映射 (IconMapper)。
  - **备份与恢复**：支持导出 **JSON/CSV 格式** 到系统文件夹，或导入备份。
  - **数据重置**：用户可以在应用内重置所有数据，包括账单、分类、账户等。

### 4. 账户：账户管理页（底部导航栏排序：1）

- **功能介绍**：建立各个账户信息，支持**多级账户体系**（账户类型 -> 具体账户）。
- **账户类型**：
  - **基本账户**：如现金、银行卡、微信/支付宝。余额代表资产。
  - **信用账户**：如信用卡、花呗。余额代表负债（UI 显示为红色）。
- **视觉统一**：顶部资产卡片重构，分为“净资产”和“负债”两部分垂直排列，金额右对齐，布局清晰。
- **用户互动**：
  - **FAB 菜单**：右下角悬浮按钮展开菜单，支持“新建账户”和“还款”。
  - **新建账户**：支持添加一级账户类型或二级具体账户，支持自定义账户图标。
  - **还款功能**：选择还款账户后，系统自动填充该账户的全部欠款金额，简化操作。
  - **列表操作**：二级账户列表支持向左滑动，显示“编辑”和“删除”按钮。
  - **数据预置**：初始化自动创建现金、银行（中行）、网络（支付宝/微信）等默认账户。

### 5. 福利：福利信息页（底部导航栏排序：4）

- **功能介绍**：暂不开发
- **用户互动**：暂不开发

------

## 四、 数据安全策略（核心）

由于采用本地化存储，需遵循以下逻辑：

1. **数据库**：`sqlite` 。
2. **导出功能**：提供加密导出的选项，防止手动备份的文件被他人直接打开。

## 五、其他

### 应用描述

**短描述（30字）**
> 可爱又安全的本地记账本，匣仔帮你守护小金库。

**完整描述**

> 【匣账 - 你的私人记账小助手】

> 担心记账APP泄露隐私？讨厌复杂的功能和广告？

> 匣账是一款专为隐私设计的本地记账工具： ✅ 数据完全本地存储，无需注册，无需联网 ✅ 不上传云端，无账号体系，你的账本只属于你 ✅ 三秒快速记账，无广告干扰，极简体验 ✅ 可爱吉祥物匣仔全程陪伴，记账不再枯燥 ✅ 支持浅色/暗黑双模式，自动切换保护视力

> 核心功能： • 快速记账：超大数字键盘，分类图标一目了然 • 收支统计：图表分析，支出排行，财务状况清晰 • 预算管理：设置月度预算，超支提醒 • 数据安全：本地备份，应用锁保护 • 离线使用：无需网络，随时随地记账

> 适合人群： • 注重隐私的个人用户 • 喜欢简洁的极简主义者 • 想要养成记账习惯的年轻人 • 需要离线记账功能的用户

> 让匣仔帮你管好每一分钱，守护你的财务隐私！

### 关键词
记账,记账本,账本,记账软件,日常记账,生活记账,个人理财,资产管理,收支管理,开支记录,流水账,家庭账本,极简记账,可爱记账,无广告,离线记账,本地记账,隐私保护,安全记账,不联网,纯净版,小匣记账,Boxy Ledger

------

## 六、 修复问题记录

## 七、 更新日志 (Changelog)
